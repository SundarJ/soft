<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>soft</title>
    <script src="soft.raw.js"></script>
    <script>
        var template = {
                title: 'an title',
                description: 'i am enlightening you as you read this',
                colors: ['fff', 'c00', 'ded', '22a0de', '1f1f1f'],
                objects: [{
                    first:  'one point one',
                    second: 'one point two',
                    third:  'one point three'
                },
                {
                    first:  'two point one',
                    second: 'two point two',
                    third:  'two point three'
                }],
                color: 'bada55',
                image: 'https://www.google.co.uk/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png'
        };
        
        /*soft.helper('color', function(text) {
            if (text.charAt(0) !== '#')
                 return '#' + text;
        });*/
        
        onload = function() {
            
            console.log(window.tpl.textContent);
            
            
            console.time( '.compile()' );
                var render = soft.compile(window.tpl.textContent); 
            console.timeEnd( '.compile()' );
            
            
            console.time( 'render(template)' )
                var rendered = render(template);  
            console.timeEnd( 'render(template)' );
            
            console.log(rendered);
            
        };
    </script>
</head>
<body>
<script type="text/html" id="tpl">
    <!-- todo:
        https://docs.djangoproject.com/en/1.7/topics/templates/#template-inheritance
        http://paularmstrong.github.io/swig/docs/
        https://www.youtube.com/watch?v=z8UgDZ4rXBU&list=PLfXiENmg6yyU5kEHyo1kYkq7HEzBOoiTT&index=1 async
        https://github.com/janl/mustache.js
        
        http://jsfiddle.net/gLLL4qcf/1/ benchmarks
        
        https://raw.githubusercontent.com/archan937/templayed.js/master/src/templayed.js
        http://twitter.github.io/hogan.js/builds/3.0.1/hogan-3.0.1.js
        http://paularmstrong.github.io/swig/js/swig.js
    -->
    
    <h1 :is="title"></h1>
    <p :is="description"></p>

    <p>Help me be <span :is="color" :as="color"></span></p>

    <ul class="colors">
        <li class="list-color" :of="colors" :as="color" data-item="&self;">color is &lt;&self;&gt;</li>
    </ul>
    
    <ul class="obj">
        <li class="obj-item" :of="objects" :as="capitalize">&self.second; <b>&self[third];</b></li>
    </ul>

    <img src="&self;" :is="image" :void>
    <img src="&this;" :is="image" :void>

    <pre class="license"><import src="LICENSE"></pre>
    <pre class="readme"><include src="README.md" escaped></pre>
</script>
</body>

</html>